{"version":3,"sources":["store/index.ts","Api.ts","components/Start.tsx","components/TodoList.tsx","App.tsx","index.tsx"],"names":["ACTIONS","isLoading","state","loading","getTodos","todos","getVisibleTodos","visibleTodos","initialState","order","store","createStore","action","type","field","sort","a","b","title","localeCompare","user","completed","composeWithDevTools","getData","url","fetch","then","response","json","tempData","data","mapDispatch","load","initTodos","connector","connect","todosList","getTodoList","findUserById","id","person","users","find","name","list","map","todo","userId","className","onClick","setVisible","scope","key","readOnly","checked","App","useSelector","todoList","length","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a5eb5100.chunk.js","sourcesContent":["/* eslint-disable no-console */\nimport { createStore, AnyAction } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport { TodoWithUser } from '../interfaces';\n\nconst ACTIONS = {\n  START_LOADING: 'START_LOADING',\n  SET_TODOS: 'SET_TODOS',\n  SET_VISIBLE_TODOS: 'SET_VISIBLE_TODOS',\n  SET_ORDER: 'SET_ORDER',\n};\n\nexport const setVisibleTodos = (field: string) => ({ type: ACTIONS.SET_VISIBLE_TODOS, field });\nexport const setTodos = (todos: TodoWithUser[]) => ({ type: ACTIONS.SET_TODOS, todos });\nexport const startLoading = () => ({ type: ACTIONS.START_LOADING });\nexport const setOrder = () => ({ type: ACTIONS.SET_ORDER });\n\nexport const isLoading = (state: RootState) => state.loading;\nexport const getTodos = (state: RootState) => state.todos;\nexport const getVisibleTodos = (state: RootState) => state.visibleTodos;\n\nexport type RootState = {\n  loading: boolean;\n  todos: TodoWithUser[];\n  visibleTodos: TodoWithUser[];\n  order: boolean;\n};\n\nconst initialState: RootState = {\n  loading: false,\n  todos: [],\n  visibleTodos: [],\n  order: false,\n};\n\nconst rootReducer = (state = initialState, action: AnyAction) => {\n  switch (action.type) {\n    case ACTIONS.START_LOADING:\n      return { ...state, loading: !state.loading };\n    case ACTIONS.SET_TODOS:\n      return { ...state, todos: action.todos, visibleTodos: action.todos };\n    case ACTIONS.SET_VISIBLE_TODOS:\n      switch (action.field) {\n        case 'title':\n          return {\n            ...state,\n            visibleTodos: [...state.todos].sort((a, b) => a.title.localeCompare(b.title)),\n          };\n\n        case 'user':\n          return {\n            ...state,\n            visibleTodos: [...state.todos].sort((a, b) => a.user.localeCompare(b.user)),\n          };\n\n        case 'completed':\n          return {\n            ...state,\n            visibleTodos: [...state.todos].sort((a, b) => {\n              return (a.completed > b.completed) ? 1 : -1;\n            }),\n          };\n        default:\n          return state;\n      }\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(),\n);\n\nexport default store;\n","export const URLTodos = 'https://mate.academy/students-api/todos';\nexport const URLUsers = 'https://mate.academy/students-api/users';\n\nexport const getData = async <T>(url: string): Promise<T[]> => {\n  const tempData = await fetch(url)\n    .then(response => response.json());\n\n  return tempData.data;\n};\n","/* eslint-disable no-console */\nimport React from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport {\n  RootState, startLoading, setTodos, getTodos,\n} from '../store';\nimport { getData, URLTodos, URLUsers } from '../Api';\nimport { User, Todo, TodoWithUser } from '../interfaces';\n\nconst mapState = (state: RootState) => {\n  return {\n    todosList: getTodos(state),\n  };\n};\n\nconst mapDispatch = {\n  load: startLoading,\n  initTodos: setTodos,\n};\n\nconst connector = connect(mapState, mapDispatch);\n\ntype Props = ConnectedProps<typeof connector> & {\n  title?: string;\n};\n\nconst Start: React.FC<Props> = ({ load, initTodos }) => {\n  const getTodoList = async () => {\n    load();\n    const todos = await getData<Todo>(URLTodos);\n    const users = await getData<User>(URLUsers);\n\n    function findUserById(id: number) {\n      const person = users.find(user => user.id === id);\n\n      return (person) ? person.name : '';\n    }\n\n    const list: TodoWithUser[] = todos.map(todo => {\n      return {\n        id: todo.id,\n        title: todo.title,\n        completed: todo.completed,\n        user: findUserById(todo.userId),\n      };\n    });\n\n    load();\n    initTodos(list);\n  };\n\n  return (\n    <button\n      className=\"btn btn-dark ml shadow p-3 mb-5  rounded\"\n      type=\"button\"\n      onClick={getTodoList}\n    >\n      Load todos\n    </button>\n  );\n};\n\nexport default connector(Start);\n","import React from 'react';\nimport { connect, ConnectedProps } from 'react-redux';\n\nimport {\n  RootState, getVisibleTodos, setVisibleTodos,\n} from '../store';\n\nconst mapState = (state: RootState) => {\n  return {\n    todosList: getVisibleTodos(state),\n  };\n};\n\nconst mapDispatch = {\n  setVisible: setVisibleTodos,\n};\n\nconst connector = connect(mapState, mapDispatch);\n\ntype Props = ConnectedProps<typeof connector> & {\n  title?: string;\n};\n\nconst TodoList: React.FC<Props> = ({ todosList, setVisible }) => {\n  return (\n    <table className=\"table table-striped table-bordered\">\n      <thead className=\"thead-dark\">\n        <tr>\n          <th scope=\"col\">\n            <button\n              className=\"sort_btn\"\n              type=\"button\"\n              onClick={() => setVisible('completed')}\n            >\n              Completed\n            </button>\n          </th>\n          <th scope=\"col\">\n            <button\n              type=\"button\"\n              className=\"sort_btn\"\n              onClick={() => setVisible('title')}\n            >\n              Title\n            </button>\n          </th>\n          <th scope=\"col\">\n            <button\n              type=\"button\"\n              className=\"sort_btn\"\n              onClick={() => setVisible('user')}\n            >\n              User\n            </button>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        {\n          todosList.map(todo => (\n            <tr key={todo.id}>\n              <td><input type=\"checkbox\" readOnly checked={todo.completed} /></td>\n              <td>{todo.title}</td>\n              <td>{todo.user}</td>\n            </tr>\n          ))\n        }\n      </tbody>\n    </table>\n  );\n};\n\nexport default connector(TodoList);\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport './App.scss';\nimport Start from './components/Start';\nimport TodoList from './components/TodoList';\n\nimport { isLoading, getTodos } from './store';\n\nconst App = () => {\n  const loading = useSelector(isLoading);\n  const todoList = useSelector(getTodos);\n\n  return (\n    <div className=\"App\">\n      <h2>{loading && 'Loading...'}</h2>\n      {\n        (!todoList.length && loading === false) && <Start />\n      }\n      {\n        todoList.length !== 0 && <TodoList />\n      }\n\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root = () => (\n  <Provider store={store}>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}